function init_sqpl_tabs(){tab_groups=[],build_tabs();var t=block_search();t.length>0&&(find_tabs(t),create_tab_wrappers(),find_tab_heights(),add_tab_buttons(),load_first_tabs())}function fix_html(){$(".sqs-row .sqs-col-12").each(function(){$(this).parent().replaceWith($(this).children()),$(this).remove()})}function build_tabs(){$(".tabs-start").each(function(t,a){$(this).closest(".sqs-block").addClass("tabs-start-parent")}),$(".tabs-end").each(function(t,a){$(this).closest(".sqs-block").addClass("tabs-end-parent")}),$(".tabs-start-parent").each(function(t,a){$(this).before('<div id="sqpl-tab-group-'+t+'" class="sqpl-tabs"><div class="sqpl-tab-controls"></div><div class="sqpl-tab-content"></div></div>')}),$(".sqpl-tab-content").css({overflow:"hidden",position:"relative"})}function block_search(){var t=[];return $(".tabs-start-parent").each(function(a,e){var n=[];$(this).nextUntil(".tabs-end-parent").each(function(t,a){n.push($(this))}),t.push(n)}),$(".tabs-start-parent").remove(),$(".tabs-end-parent").remove(),t}function find_tabs(t){for(var a=0;a<t.length;a++){for(var e=t[a],n=[],s=[],r="",o=!1,i=0;i<e.length;i++)e[i].find(".tab-section").length>0?(0==o?o=!0:(n.push({elements:s,tab_name:r}),r="",s=[]),r=e[i].text(),e[i].remove()):o&&s.push(e[i]);n.push({elements:s,tab_name:r}),tab_groups.push(n)}}function create_tab_wrappers(){for(var t=0;t<tab_groups.length;t++)for(var a=$("#sqpl-tab-group-"+t).find(".sqpl-tab-content"),e=tab_groups[t],n=0;n<e.length;n++){a.append('<div class="sqpl-tab sqpl-tab-'+n+'"></div>'),e[n].wrapper=$("#sqpl-tab-group-"+t).find(".sqpl-tab-"+n),e[n].wrapper.css("opacity",0);for(var s=0;s<e[n].elements.length;s++)e[n].wrapper.append(e[n].elements[s])}$(".sqpl-tab").css({position:"absolute",width:"100%"})}function add_tab_buttons(){for(var t=0;t<tab_groups.length;t++){for(var a=tab_groups[t],e=$("#sqpl-tab-group-"+t).find(".sqpl-tab-controls"),n=0;n<a.length;n++)e.append('<div class="sqpl-tab-button sqpl-tab-button-'+n+'" sqpl-tab="'+n+'" sqpl-group="'+t+'">'+a[n].tab_name+"</div>"),a[n].button=$("#sqpl-tab-group-"+t).find(".sqpl-tab-button-"+n),a[n].button.click(function(){var t=parseInt($(this).attr("sqpl-tab"));load_tab(parseInt($(this).attr("sqpl-group")),t)});tab_groups[t].group_wrapper=$("#sqpl-tab-group-"+t),tab_groups[t].content_wrapper=$("#sqpl-tab-group-"+t).find(".sqpl-tab-content"),tab_groups[t].controls_wrapper=$("#sqpl-tab-group-"+t).find(".sqpl-tab-controls"),tab_groups[t].current_tab=0}}function load_first_tabs(){for(var t=0;t<tab_groups.length;t++){var a=tab_groups[t],e=a.current_tab;a[e].wrapper.toggleClass('clickability').css({top:"25px",opacity:1}),a.content_wrapper.css({height:a[e].section_height});for(var n=0;n<a.length;n++)n!=e&&a[n].wrapper.css("top",a[e].section_height+50);a.controls_wrapper.find(".sqpl-tab-button-"+e).toggleClass("sqpl-active-tab")}}function find_tab_heights(){for(var t=0;t<tab_groups.length;t++)for(var a=tab_groups[t],e=0;e<a.length;e++)a[e].section_height=a[e].wrapper.outerHeight()}function load_tab(t,a){var e=tab_groups[t],n=e.current_tab;if(a!=n){find_tab_heights(),e.controls_wrapper.find(".sqpl-tab-button-"+n).toggleClass("sqpl-active-tab"),e.controls_wrapper.find(".sqpl-tab-button-"+a).toggleClass("sqpl-active-tab"),e[n].wrapper.toggleClass('clickability').animate({opacity:0},{duration:300,complete:function(){$(this).css("top",e[a].section_height+100)}}),e[a].wrapper.css("top","25px"),e[a].wrapper.toggleClass('clickability').animate({opacity:1},{duration:300}),e.content_wrapper.css({height:e[a].section_height+25});for(var s=0;s<e.length;s++)s!=a&&s!=n&&e[s].wrapper.css("top",e[a].section_height+100);e.current_tab=a}}function interval(t,a,e){var n=function(a,e){return function(){if(void 0===e||e-- >0){setTimeout(n,a);try{t.call(null)}catch(t){throw e=0,t.toString()}}}}(a,e);setTimeout(n,a)}function watch(){MutationObserver=window.MutationObserver||window.WebKitMutationObserver,new MutationObserver(function(t){for(var a=0;a<t.length;a++)if("attributes"===t[a].type){var e=new Event("pageChange");document.dispatchEvent(e)}}).observe(document.body,{attributes:!0,attributeFilter:["id"]})}var tab_groups=[],recent_page_tabs=!1;$(document).ready(function(){$(".tabs-start").length>0&&(fix_html(),init_sqpl_tabs())});var update_tab_heights=function(){find_tab_heights();for(var t=0;t<tab_groups.length;t++){var a=tab_groups[t],e=a[a.current_tab].section_height;a.content_wrapper.css({height:e+25})}};$(window).on("resize",function(){window.requestAnimationFrame(update_tab_heights)}),$(".sqs-block-markdown h1").click(function(){setTimeout(function(){update_tab_heights()},500)}),interval(update_tab_heights,2e3,5),document.addEventListener("pageChange",function(){0==recent_page_tabs&&(setTimeout(function(){fix_html(),init_sqpl_tabs()},1e3),recent_page_tabs=!0,setTimeout(function(){recent_page_tabs=!1},200))}),window.onload=watch;
